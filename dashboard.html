<!DOCTYPE html>
<html lang="de">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>hep - Dashboard</title>
Â  Â Â 
Â  Â  <!-- Firebase SDK -->
Â  Â  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
Â  Â  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  * {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --hep-blue: #003876;
Â  Â  Â  Â  Â  Â  --hep-turquoise: #5eb9b4;
Â  Â  Â  Â  Â  Â  --hep-light-gray: #f5f5f5;
Â  Â  Â  Â  Â  Â  --hep-dark-gray: #333;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
Â  Â  Â  Â  Â  Â  color: var(--hep-dark-gray);
Â  Â  Â  Â  Â  Â  background: var(--hep-light-gray);
Â  Â  Â  Â  Â  Â  line-height: 1.6;
Â  Â  Â  Â  }

Â  Â  Â  Â  header {
Â  Â  Â  Â  Â  Â  background-color: white;
Â  Â  Â  Â  Â  Â  padding: 20px 40px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  position: sticky;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  z-index: 100;
Â  Â  Â  Â  }

Â  Â  Â  Â  .logo-placeholder {
Â  Â  Â  Â  Â  Â  width: 150px;
Â  Â  Â  Â  Â  Â  height: 50px;
Â  Â  Â  Â  Â  Â  background-color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  border-radius: 25px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  }

Â  Â  Â  Â  nav {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 25px;
Â  Â  Â  Â  }

Â  Â  Â  Â  nav a {
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  transition: color 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  nav a:hover {
Â  Â  Â  Â  Â  Â  color: var(--hep-turquoise);
Â  Â  Â  Â  }

Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  max-width: 1400px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  padding: 40px 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-title {
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  font-size: 42px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .subtitle {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  Â  Â  margin-bottom: 40px;
Â  Â  Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .user-info {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, var(--hep-blue), var(--hep-turquoise));
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 40px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .user-code {
Â  Â  Â  Â  Â  Â  font-size: 36px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  margin: 15px 0;
Â  Â  Â  Â  }

Â  Â  Â  _ .stats-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 25px;
Â  Â  Â  Â  Â  Â  margin-bottom: 40px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-card {
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  transition: transform 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-card:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-5px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-icon {
Â  Â  Â  Â  Â  Â  font-size: 48px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-value {
Â  Â  Â  Â  Â  Â  font-size: 42px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .stat-label {
Â  Â  Â  Â  Â  Â  font-size: 16px;
Â  Â  Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  }

Â  Â  Â  Â  .section {
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .section-title {
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  font-size: 28px;
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .section-title-icon {
Â  Â  Â  Â  Â  Â  font-size: 32px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .community-badge {
Â  Â  Â  Â  Â  Â  display: inline-block;
Â  Â  Â  Â  Â  Â  background: var(--hep-turquoise);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 5px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  margin-left: 15px;
Â  Â  Â  Â  Â  Â  font-weight: normal;
Â  Â  Â  Â  }

Â  Â  Â  Â  .progress-bar {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 30px;
Â  Â  Â  Â  Â  Â  background: var(--hep-light-gray);
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  margin: 15px 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .progress-fill {
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background: linear-gradient(90deg, var(--hep-turquoise), var(--hep-blue));
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: width 1s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Module Liste */
Â  Â  Â  Â  .modules-list {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-item {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  background: var(--hep-light-gray);
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  border-left: 5px solid var(--hep-turquoise);
Â  Â  Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-item:hover {
Â  Â  Â  Â  Â  Â  transform: translateX(5px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-item.completed {
Â  Â  Â  Â  Â  Â  border-left-color: #4caf50;
Â  Â  Â  Â  Â  Â  background: #e8f5e9;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-status {
Â  Â  Â  Â  Â  Â  font-size: 32px;
Â  Â  Â  Â  Â  Â  min-width: 40px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-info {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-name {
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-details {
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-link {
Â  Â  Â  Â  Â  Â  background: var(--hep-turquoise);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  transition: background 0.3s;
Â  Â  Â  Â  Â  Â  white-space: nowrap;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-link:hover {
Â  Â  Â  Â  Â  Â  background: var(--hep-blue);
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-item.completed .module-link {
Â  Â  Â  Â  Â  Â  background: #4caf50;
Â  Â  Â  Â  }

Â  Â  Â  Â  .module-item.completed .module-link:hover {
Â  Â  Â  Â  Â  Â  background: #45a049;
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard {
Â  Â  Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard-item {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  background: var(--hep-light-gray);
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  transition: all 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard-item:hover {
Â  Â  Â  Â  Â  Â  background: #e0e0e0;
Â  Â  Â  Â  Â  Â  transform: translateX(5px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard-item.current-user {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, rgba(0,56,118,0.1), rgba(94,185,180,0.1));
Â  Â  Â  Â  Â  Â  border: 2px solid var(--hep-turquoise);
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard-rank {
Â  Â  Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  min-width: 50px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard-rank.top-1 { color: #FFD700; }
Â  Â  Â  Â  .leaderboard-rank.top-2 { color: #C0C0C0; }
Â  Â  Â  Â  .leaderboard-rank.top-3 { color: #CD7F32; }

Â  Â  Â  Â  .leaderboard-user {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard-stats {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  }

Â  Â  Â  Â  .leaderboard-score {
Â  Â  Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: var(--hep-turquoise);
Â  Â  Â  Â  Â  Â  min-width: 100px;
Â  Â  Â  Â  Â  Â  text-align: right;
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-completion-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-card {
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  background: var(--hep-light-gray);
Â  Â  Â  Â  _ Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  border-left: 5px solid var(--hep-turquoise);
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-card h4 {
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  font-size: 18px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-stats {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-stat-row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  font-size: 14px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .survey-grid {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
Â  Â  Â  Â  Â  Â  gap: 20px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .survey-card {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  background: var(--hep-light-gray);
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .survey-emoji {
Â  Â  Â  Â  Â  Â  font-size: 48px;
Â  Â  Â  Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .survey-category {
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  color: var(--hep-blue);
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .survey-score {
Â  Â  Â  Â  Â  Â  font-size: 32px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: var(--hep-turquoise);
Â  Â  Â  Â  }

Â  Â  Â  Â  .survey-label {
Â  Â  Â  Â  Â  Â  font-size: 12px;
Â  Â  Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  }

Â  Â  Â  Â  .loading {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding: 50px;
Â  Â  Â  Â  Â  Â  font-size: 24px;
Â  Â  Â  Â  Â  Â  color: #666;
Â  Â  Â  Â  }

Â  Â  Â  Â  .error-message {
Â  Â  Â  Â  Â  Â  background: #fee;
Â  Â  Â  Â  Â  Â  color: #c33;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  @media (max-width: 768px) {
Â  Â  Â  Â  Â  Â  .page-title {
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 32px;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .stats-grid {
Â  Â  Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .modules-list {
Â  Â  Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .leaderboard-stats {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  Â  Â  gap: 5px;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .module-item {
section_ Â  Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .module-link {
Â  Â  Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <header>
Â  Â  Â  Â  <div class="logo-placeholder">hep</div>
Â  Â  Â  Â  <nav>
Â  Â  Â  Â  Â  Â  <a href="index.html">Start</a>
Â  Â  Â  Â  Â  Â  <a href="lernseiten/radio.html">Lernseiten</a>
Â  Â  Â  Â  Â  Â  <a href="dashboard.html">Dashboard</a>
Â  Â  Â  Â  </nav>
Â  Â  </header>

Â  Â  <div class="container">
Â  Â  Â  Â  <h1 class="page-title">ğŸ“Š Dashboard</h1>
Â  Â  Â  Â  <p class="subtitle">Dein Fortschritt und Community-Statistiken</p>

Â  Â  Â  Â  <div id="loadingState" class="loading">
Â  Â  Â  Â  Â  Â  â³ Lade Dashboard-Daten...
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="errorState" class="error-message" style="display: none;"></div>

Â  Â  Â  Â  <div id="dashboardContent" style="display: none;">
Â  Â  Â  Â  Â  Â  <!-- User Info -->
Â  Â  Â  Â  Â  Â  <div class="user-info">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 24px; font-weight: bold; margin-bottom: 10px;">ğŸ“ˆ MEINE LEISTUNG</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>Dein persÃ¶nlicher Code:</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="user-code" id="userCode"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>Mitglied seit: <span id="memberSince"></span></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Personal Stats -->
Â  Â  Â  Â  Â  Â  <div class="stats-grid">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-icon">âœ…</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" id="myCompletions">0/6</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Abgeschlossene Module</div>
Â  _ Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-icon">ğŸ¯</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" id="myQuizScore">0%</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Durchschn. Quiz-Score</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-icon">â±ï¸</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" id="myTimeSpent">0</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Minuten gelernt</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-card">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-icon">ğŸ†</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-value" id="myRank">-</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Deine Position</div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- My Modules Overview -->
Â  Â  Â  Â  Â  Â  <div class="section">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="section-title">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="section-title-icon">ğŸ“š</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Meine Module
Â  Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="modules-list" id="myModulesList"></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Leaderboard -->
Â  Â  Â  Â  Â  Â  <div class="section">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="section-title">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="section-title-icon">ğŸ†</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Top 10 Leaderboard
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="community-badge">Community</span>
Â  Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  Â  Â  <ul class="leaderboard" id="leaderboardList"></ul>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Page Completions -->
Â  Â  Â  Â  Â  Â  <div class="section">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="section-title">
section_ Â  Â  Â  Â  Â  Â  Â  Â  <span class="section-title-icon">ğŸ“Š</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Modul-Statistiken
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="community-badge">Community</span>
Â  Â  Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="page-completion-grid" id="pageCompletions"></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <!-- Survey Results -->
Â  Â  Â  Â  Â  Â  <div class="section">
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="section-title">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="section-title-icon">â­</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Umfrage-Ergebnisse
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="community-badge">Community-Durchschnitt</span>
Â  Â  Â  Â  Â  Â  Â  _ </h2>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="survey-grid" id="surveyResults"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <!-- Firebase Config muss VOR dem Dashboard-Script geladen werden -->
Â  Â  <script src="firebase-config.js"></script>
Â  Â Â 
Â  Â  <script>
Â  Â  Â  Â  // Globale Variablen
Â  Â  Â  Â  let userCode = null;
Â  Â  Â  Â  // database wird von firebase-config.js bereitgestellt

Â  Â  Â  Â  // Initialisierung
Â  Â  Â  Â  (function init() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  // 1. UserCode holen
Â  Â  Â  Â  Â  Â  Â  Â  userCode = localStorage.getItem('userCode');
Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸ” UserCode:', userCode);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (!userCode) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log('âŒ Kein UserCode gefunden, leite zu Login um...');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.location.href = 'login.html';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // 2. PrÃ¼fen ob Firebase geladen ist
Â  Â  Â  Â  Â  Â  Â  Â  if (typeof firebase === 'undefined') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Firebase ist nicht geladen');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (typeof database === 'undefined') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Database ist nicht initialisiert - prÃ¼fen Sie firebase-config.js');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Firebase Database verfÃ¼gbar');

Â  Â  Â  Â  Â  Â  Â  Â  // 3. Dashboard laden
Â  Â  Â  Â  Â  Â  Â  Â  loadDashboard();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Fehler bei Initialisierung:', error);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('loadingState').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('errorState').textContent =s
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Fehler beim Laden der Seite: ' + error.message +Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '. Bitte prÃ¼fen Sie, ob firebase-config.js korrekt eingebunden ist.';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('errorState').style.display = 'block';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  })();

Â  Â  Â  Â  // Seiten-Namen und Links
Â  Â  Â  Â const modules = [
Â  Â  { key: 'radio', name: 'Radiobeitrag', icon: 'ğŸ™ï¸', link: 'lernseiten/radio.html' },
Â  Â  { key: 'artikel1', name: 'Artikel 1: Ã–konomen', icon: 'ğŸ“„', link: 'lernseiten/artikel1.html' },
Â  Â  { key: 'artikel2', name: 'Artikel 2: Interview BrÃ¼lhart', icon: 'ğŸ“„', link: 'lernseiten/artikel2.html' },
Â  Â  { key: 'artikel3', name: 'Artikel 3: Internationaler Vergleich', icon: 'ğŸ“„', link: 'lernseiten/artikel3.html' },
Â  Â  { key: 'artikel4', name: 'Artikel 4: Superreiche', icon: 'ğŸ“„', link: 'lernseiten/artikel4.html' },
Â  Â  { key: 'umfrage', name: 'Umfrage', icon: 'ğŸ“Š', link: 'umfrage.html' }
];

Â  Â  Â  Â  const pages = {
Â  Â  Â  Â  Â  Â  'radio': 'ğŸ™ï¸ Radiobeitrag',
Â  Â  Â  Â  Â  Â  'artikel1': 'ğŸ“„ Artikel 1: Ã–konomen',
Â  Â  Â  Â  Â  Â  'artikel2': 'ğŸ“„ Artikel 2: Interview BrÃ¼lhart',
Â  Â  Â  Â  Â  Â  'artikel3': 'ğŸ“„ Artikel 3: Internationaler Vergleich',
Â  Â  Â  Â  Â  Â  'artikel4': 'ğŸ“„ Artikel 4: Superreiche',
Â  Â  Â  Â  Â  Â  'umfrage': 'ğŸ“Š Umfrage'
Â  Â  Â  Â  };

Â  Â  Â  Â  // Dashboard laden
Â  Â  Â  Â  async function loadDashboard() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸ“Š Lade Dashboard...');
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('loadingState').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('errorState').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('dashboardContent').style.display = 'none';

Â  Â  Â  Â  Â  Â  Â  Â  // User-Code anzeigen
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('userCode').textContent = userCode;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Member since
Â  Â  Â  Â  Â  Â  Â  Â  const loginTime = localStorage.getItem('loginTime');
Â  Â  Â  Â  Â  Â  Â  Â  if (loginTime) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const date = new Date(loginTime);
section_ Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('memberSince').textContent = date.toLocaleDateString('de-DE');
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // Alle User-Daten abrufen
Â  Â  Â  Â  Â  Â  Â  Â  console.log('ğŸ“¡ Rufe User-Daten von Firebase ab...');
Â  Â  Â  Â  Â  Â  Â  Â  const usersSnapshot = await database.ref('users').once('value');
Â  Â  Â  Â  Â  Â  Â  Â  const allUsersData = usersSnapshot.val() || {};
Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… User-Daten geladen:', Object.keys(allUsersData).length, 'Benutzer');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Personal Stats berechnen
Â  Â  Â  Â  Â  Â  Â  Â  const myData = allUsersData[userCode] || {};
Â  Â  Â  Â  Â  Â  Â  Â  displayPersonalStats(myData, allUsersData);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // My Modules anzeigen
Â  Â  Â  Â  Â  Â  Â  Â  displayMyModules(myData);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Leaderboard anzeigen
Â  Â  Â  Â  Â  Â  Â  Â  displayLeaderboard(allUsersData);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Page Completions anzeigen
Â  Â  Â  Â  Â  Â  Â  Â  displayPageCompletions(allUsersData);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Survey Results anzeigen
Â  Â  Â  Â  Â  Â  Â  Â  displaySurveyResults(allUsersData);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Dashboard anzeigen
section Â  Â  Â  Â  Â  Â  document.getElementById('loadingState').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('dashboardContent').style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  console.log('âœ… Dashboard erfolgreich geladen');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('âŒ Fehler beim Laden des Dashboards:', error);
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('loadingState').style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('errorState').textContent =Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Fehler beim Laden der Daten: ' + error.message +Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '. Bitte Seite neu laden oder prÃ¼fen Sie Ihre Firebase-Konfiguration.';
Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('errorState').style.display = 'block';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Personal Stats anzeigen
Â  Â  Â  Â  function displayPersonalStats(myData, allUsersData) {
Â  Â  Â  Â  Â  Â  // Completions
Â  Â  Â  Â  Â  Â  const completions = myData.completions ? Object.keys(myData.completions).length : 0;
Â  Â  Â  Â  Â  Â  document.getElementById('myCompletions').textContent = `${completions}/6`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Quiz Score
Â  Â  Â  Â  Â  Â  let totalQuizScore = 0;
Â  Â  Â  Â  Â  Â  let quizCount = 0;
Â  Â  Â  Â  Â  Â  if (myData.quizzes) {
Â  Â  Â  Â  Â  Â  Â  Â  Object.values(myData.quizzes).forEach(quiz => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const correct = quiz.correctAnswers || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const total = quiz.totalQuestions || 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalQuizScore += (correct / total) * 100;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  quizCount++;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const avgQuizScore = quizCount > 0 ? Math.round(totalQuizScore / quizCount) : 0;
Â  Â  Â  Â  Â  Â  document.getElementById('myQuizScore').textContent = avgQuizScore + '%';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Time Spent
Â  Â  Â  Â  Â  Â  let totalTime = 0;
Â  Â  Â  Â  Â  Â  if (myData.timeSpent) {
Â  Â  Â  Â  Â  Â  Â  Â  Object.values(myData.timeSpent).forEach(time => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalTime += time.seconds || 0;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const minutes = Math.round(totalTime / 60);
section Â  Â  Â  Â  document.getElementById('myTimeSpent').textContent = minutes;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Rank
Â  Â  Â  Â  Â  Â  const leaderboard = calculateLeaderboard(allUsersData);
Â  Â  Â  Â  Â  Â  const myRank = leaderboard.findIndex(item => item.userCode === userCode) + 1;
Â  Â  Â  Â  Â  Â  document.getElementById('myRank').textContent = myRank > 0 ? '#' + myRank : '-';
Â  Â  Â  Â  }

Â  Â  Â  Â  // My Modules anzeigen
Â  Â  Â  Â  function displayMyModules(myData) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('myModulesList');
Â  Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  modules.forEach(module => {
Â  Â  Â  Â  Â  Â  Â  Â  const isCompleted = myData.completions && myData.completions[module.key];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Quiz-Details holen
Â  Â  Â  Â  Â  Â  Â  Â  let quizInfo = '';
Â  Â  Â  Â  Â  Â  Â  Â  if (myData.quizzes && myData.quizzes[module.key]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const quiz = myData.quizzes[module.key];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const correct = quiz.correctAnswers || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const total = quiz.totalQuestions || 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const score = Math.round((correct / total) * 100);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  quizInfo = `Quiz: ${correct}/${total} (${score}%)`;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Zeit-Details holen
Â  Â  Â  Â  Â  Â  Â  Â  let timeInfo = '';
Â  Â  Â  Â  Â  Â  Â  Â  if (myData.timeSpent && myData.timeSpent[module.key]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const seconds = myData.timeSpent[module.key].seconds || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const mins = Math.round(seconds / 60);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timeInfo = `${mins} Min`;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const moduleItem = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  moduleItem.className = 'module-item' + (isCompleted ? ' completed' : '');
Â  Â  Â  Â  Â  Â  Â  Â  moduleItem.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="module-status">${isCompleted ? 'âœ“' : 'â—‹'}</div>
section Â  Â  Â  Â  Â  Â  Â  Â  <div class="module-info">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="module-name">${module.icon} ${module.name}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="module-details">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${quizInfo ? quizInfo : 'Noch nicht begonnen'}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${timeInfo ? ' â€¢ ' + timeInfo : ''}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  _ Â  Â  Â  Â  <a href="${module.link}" class="module-link">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${isCompleted ? 'ğŸ“Š Analyse' : 'â†’ Starten'}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </a>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(moduleItem);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // Leaderboard berechnen
Â  Â  Â  Â  function calculateLeaderboard(allUsersData) {
Â  Â  Â  Â  Â  Â  const leaderboard = [];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  for (const [code, data] of Object.entries(allUsersData)) {
Â  Â  Â  Â  Â  Â  Â  Â  const completionsCount = data.completions ? Object.keys(data.completions).length : 0;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  let totalQuizScore = 0;
Â  Â  Â  Â  Â  Â  Â  Â  let quizCount = 0;
Â  Â  Â  Â  Â  Â  Â  Â  if (data.quizzes) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Object.values(data.quizzes).forEach(quiz => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const correct = quiz.correctAnswers || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const total = quiz.totalQuestions || 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalQuizScore += (correct / total) * 100;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  quizCount++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  _ }
Â  Â  Â  Â  Â  Â  Â  Â  const averageQuizScore = quizCount > 0 ? Math.round(totalQuizScore / quizCount) : 0;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Score berechnen: Completions * 100 + Quiz Score
Â  Â  Â  Â  Â  Â  Â  Â  const totalScore = (completionsCount * 100) + averageQuizScore;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  leaderboard.push({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userCode: code,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  completionsCount,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  averageQuizScore,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalScore
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Sortieren nach Score
Â  Â  Â  Â  Â  Â  leaderboard.sort((a, b) => b.totalScore - a.totalScore);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  return leaderboard;
Â  Â  Â  Â  }

Â  Â  Â  Â  // Leaderboard anzeigen
Â  Â  Â  Â  function displayLeaderboard(allUsersData) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('leaderboardList');
Â  Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const leaderboard = calculateLeaderboard(allUsersData);
Â  Â  Â  Â  Â  Â  const top10 = leaderboard.slice(0, 10);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  top10.forEach((item, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const rank = index + 1;
Â  Â  Â  Â  Â  Â  Â  Â  const isCurrentUser = item.userCode === userCode;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const li = document.createElement('li');
Â  Â  Â  Â  Â  Â  Â  Â  li.className = 'leaderboard-item' + (isCurrentUser ? ' current-user' : '');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  let rankClass = '';
Â  Â  Â  Â  Â  Â  Â  Â  let medal = '';
Â  Â  Â  Â  Â  Â  Â  Â  if (rank === 1) { rankClass = 'top-1'; medal = 'ğŸ¥‡ '; }
Â  Â  Â  Â  Â  Â  Â  Â  else if (rank === 2) { rankClass = 'top-2'; medal = 'ğŸ¥ˆ '; }
Â  Â  Â  Â  Â  Â  Â  Â  else if (rank === 3) { rankClass = 'top-3'; medal = 'ğŸ¥‰ '; }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  li.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="leaderboard-rank ${rankClass}">${medal}${rank}</div>
section Â  Â  Â  Â  Â  Â  Â  Â  <div class="leaderboard-user">${item.userCode}${isCurrentUser ? ' (Du)' : ''}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="leaderboard-stats">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>âœ… ${item.completionsCount}/6</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>ğŸ¯ ${item.averageQuizScore}%</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="leaderboard-score">${item.totalScore} Pkt</div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(li);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // Page Completions anzeigen
Â  Â  Â  Â  function displayPageCompletions(allUsersData) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('pageCompletions');
Â  Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const totalUsers = Object.keys(allUsersData).length;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  for (const [pageKey, pageName] of Object.entries(pages)) {
Â  Â  Â  Â  Â  Â  Â  Â  let completedCount = 0;
Â  Â  Â  Â  Â  Â  Â  Â  let totalTimeSpent = 0;
Â  Â  Â  Â  Â  Â  Â  Â  let totalQuizScore = 0;
Â  Â  Â  Â  Â  Â  Â  Â  let quizCount = 0;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Object.values(allUsersData).forEach(userData => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Completions zÃ¤hlen
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (userData.completions && userData.completions[pageKey]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  completedCount++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Zeit addieren
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (userData.timeSpent && userData.timeSpent[pageKey]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalTimeSpent += userData.timeSpent[pageKey].seconds || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Quiz Scores addieren
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (userData.quizzes && userData.quizzes[pageKey]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const quiz = userData.quizzes[pageKey];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const correct = quiz.correctAnswers || 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const total = quiz.totalQuestions || 1;
section Â  Â  Â  Â  Â  Â  Â  Â  Â  totalQuizScore += (correct / total) * 100;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  quizCount++;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const completionRate = totalUsers > 0 ? Math.round((completedCount / totalUsers) * 100) : 0;
Â  Â  Â  Â  Â  Â  Â  Â  const averageTimeSpent = completedCount > 0 ? totalTimeSpent / completedCount : 0;
Â  Â  Â  Â  Â  Â  Â  Â  const averageQuizScore = quizCount > 0 ? Math.round(totalQuizScore / quizCount) : 0;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  card.className = 'page-card';
Â  Â  Â  Â  Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>${pageName}</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-bar">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="progress-fill" style="width: ${completionRate}%">
section Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${completionRate}%
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="page-stats">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="page-stat-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Abgeschlossen:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>${completedCount} von ${totalUsers}</strong>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="page-stat-row">
section_ Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Ã˜ Verweildauer:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>${Math.round(averageTimeSpent / 60)} Min</strong>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  _ Â  Â  ${quizCount > 0 ? `
ci Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="page-stat-row">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>Ã˜ Quiz-Score:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>${averageQuizScore}%</strong>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ` : ''}
s Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(card);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Survey Results anzeigen
Â  Â  Â  Â  function displaySurveyResults(allUsersData) {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('surveyResults');
s Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const categories = {
Â  Â  Â  Â  Â  Â  Â  Â  quality: { label: 'QualitÃ¤t', emoji: 'â­' },
Â  Â  Â  Â  Â  Â  Â  Â  clarity: { label: 'Ãœbersichtlichkeit', emoji: 'âœ¨' },
Â  Â  Â  Â  Â  Â  Â  Â  informative: { label: 'Informationsgehalt', emoji: 'ğŸ’¡' },
s Â  Â  Â  Â  Â  Â  Â  difficulty: { label: 'Schwierigkeitsgrad', emoji: 'ğŸ¯' },
Â  Â  Â  Â  Â  Â  Â  Â  interactivity: { label: 'InteraktivitÃ¤t', emoji: 'ğŸ‰' },
Â  Â  Â  Â  Â  Â  Â  Â  recommendation: { label: 'Empfehlung', emoji: 'ğŸ‘' }
Â  section_};
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const totals = {};
Â  Â  Â  Â  Â  Â  const counts = {};
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Daten aggregieren
Â  Â  Â  Â  Â  Â  Object.values(allUsersData).forEach(userData => {
Â  Â  Â  Â  Â  Â  Â  Â  if (userData.survey) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Object.entries(userData.survey).forEach(([key, value]) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (key !== 'timestamp' && categories[key]) {
Â  Â  Â  Â  Â  Â  Â  Â  ci Â  Â  Â  Â  Â  totals[key] = (totals[key] || 0) + value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  counts[key] = (counts[key] || 0) + 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Cards erstellen
Â  Â  Â  Â  Â  Â  for (const [key, info] of Object.entries(categories)) {
Â  Â  Â  Â  Â  Â  Â  Â  const average = counts[key] > 0 ? (totals[key] / counts[key]).toFixed(1) : 0;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  card.className = 'survey-card';
Â  Â  Â  Â  Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="survey-emoji">${info.emoji}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="survey-category">${info.label}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="survey-score">${average}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="survey-label">von 5 Sternen</div>
s Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(card);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Wenn keine Umfrageergebnisse vorhanden
Â  Â  Â  Â  Â  Â  if (Object.keys(totals).length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = '<p style="text-align: center; color: #666; padding: 20px;">Noch keine Umfrageergebnisse verfÃ¼gbar.</p>';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Auto-Refresh alle 30 Sekunden (optional - nur wenn Dashboard schon geladen wurde)
Â  Â  Â  Â  setInterval(() => {
Â  Â  Â  Â  Â  Â  if (document.getElementById('dashboardContent').style.display !== 'none') {
Â  Â  Â  Â  Â  Â  Â  Â  loadDashboard();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }, 30000);
Â  Â  </script>
</body>
</html>
